// a maximum of eight servo objects can be created 
#include "particle-blinds.cpp"

#include "particle-blinds.h" 
 
Servo myservo;

int val;

int ledControl(String command);


void setup() 
{

myservo.attach(A4);  // attaches the servo on analog pin A4 to the servo object 
Particle.function("ledstate", ledControl);
Particle.variable("checkStatus1", "off");

}

void loop()

{
    
}

int ledControl(String command)


{  //if and else will set on off functionality
    if (command == "1") {   
    myservo.attach(A4);
    delay(500);
    myservo.write(90); 
    Particle.variable("checkStatus1", "on");
    delay(2000);
    myservo.detach();
    
  } else if(command == "0"){
    myservo.attach(A4);
    delay(500);
    myservo.write(0);  
    Particle.variable("checkStatus1", "off");
    delay(2000);
    myservo.detach();
      }
     
    else{
    myservo.attach(A4);
    delay(500);
    val = command.toInt(); //converts command to integer to be used for positional arrangement
    val = map (val, 0, 99, 2, 170);
    myservo.write(val);
    Particle.variable("checkStatus1", "on");
    delay(2000);
    myservo.detach();
    }
}



